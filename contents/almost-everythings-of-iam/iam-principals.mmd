flowchart TD
    %% 스타일 정의
    %% color:#000000 (검정색), font-weight:bold (굵게) 추가
    classDef human fill:#E1F5FE,stroke:#01579B,stroke-width:2px,color:#000000,font-weight:bold;
    classDef aws fill:#FFF3E0,stroke:#FF6F00,stroke-width:2px,color:#000000,font-weight:bold;
    classDef auth fill:#F3E5F5,stroke:#7B1FA2,stroke-width:2px,stroke-dasharray: 5 5,color:#000000,font-weight:bold;

    %% 메인 그룹
    subgraph Principals ["권한이 필요한 주체 (Principals)"]
        direction LR
        
        %% 1. 사람 (왼쪽)
        subgraph HumanSection ["사용자 (User)"]
            direction TB
            User(kusj-ai-01):::human
        end

        %% 2. 서비스 (오른쪽)
        subgraph ServiceSection ["서비스 (AWS Service)"]
            direction TB
            Service("Lambda / EC2"):::aws
        end
    end

    %% 권한 할당 방식
    Policy["IAM Policy<br/>(권한 정책 문서)"]:::auth
    Role["IAM Role<br/>(역할)"]:::auth

    %% 연결선
    User -->|"직접 연결"| Policy
    User -->|"Assume Role<br/>(역할 획득)"| Role
    Service -->|"Assume Role<br/>(역할 획득)"| Role
    
    %% 설명 추가
    Role -->|"정책 포함"| Policy
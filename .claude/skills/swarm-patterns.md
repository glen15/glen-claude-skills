# Agent Teams (Swarm) 활용 패턴

Agent Teams를 효과적으로 활용하기 위한 가이드.

---

## Agent Teams vs Sub-Agents vs Single Session

### Agent Teams (Swarm)
- 토론/협업이 필요한 복잡한 작업
- 멀티파일 리팩토링, 병렬 리뷰, 경쟁 디버깅
- 서로 다른 관점에서 동시에 작업
- 팀원 간 결과 공유 및 반박 가능

### Sub-Agents (Task 도구)
- 결과만 필요한 집중 작업
- 코드 탐색, 파일 검색, 단일 파일 분석
- 독립적인 조사/리서치
- 메인 컨텍스트 보호

### Single Session
- 순차적 작업, 같은 파일 편집
- 간단한 수정, 단일 파일 변경
- 빠른 피드백이 필요한 작업

---

## 팀 구성 템플릿

### 1. 코드 리뷰 팀 (3명)

| 역할 | 담당 | 초점 |
|------|------|------|
| Security Reviewer | 보안 취약점 | OWASP Top 10, 인증/인가, 입력 검증 |
| Performance Reviewer | 성능/알고리즘 | N+1 쿼리, 메모리 누수, 시간 복잡도 |
| Quality Reviewer | 코드 품질 | 테스트 커버리지, 가독성, 유지보수성 |

### 2. 기능 개발 팀 (3명)

| 역할 | 담당 | 초점 |
|------|------|------|
| Frontend Agent | UI 컴포넌트/UX | 컴포넌트 설계, 상태 관리, 접근성 |
| Backend Agent | API/비즈니스 로직 | 엔드포인트, 데이터 모델, 비즈니스 규칙 |
| Test Agent | 테스트 작성/검증 | 단위/통합/E2E 테스트, 엣지 케이스 |

### 3. 디버깅 팀 (3-5명)

| 역할 | 방식 |
|------|------|
| 가설 A 검증자 | 데이터 흐름 문제 추적 |
| 가설 B 검증자 | 상태 관리 문제 추적 |
| 가설 C 검증자 | 외부 의존성 문제 추적 |
| (선택) 가설 D | 타이밍/동시성 문제 추적 |
| (선택) 가설 E | 환경/설정 문제 추적 |

과학적 토론 방식: 각 팀원이 증거 기반으로 자기 가설을 검증하고, 다른 팀원의 가설을 적극적으로 반박하여 합의 도출.

---

## 태스크 분해 가이드라인

### 적절한 태스크 크기
- 명확한 산출물이 있는 독립 단위
- 팀원당 5-6개 태스크가 이상적
- 한 태스크가 1-2개 파일을 다루도록 분리

### 파일 소유권
- 두 팀원이 같은 파일을 편집하면 안 됨
- 인터페이스/계약을 먼저 합의 후 병렬 작업
- 공유 타입 정의는 리드가 먼저 생성

### Delegate Mode 활용
- `Shift+Tab`으로 리드가 코드 작성하지 않도록 제한
- 리드는 조율/검토에만 집중
- 팀원에게 명확한 지시와 컨텍스트 전달

### Plan Approval 활용
- 큰 작업은 각 팀원이 구현 전 계획 제출
- 리드가 검토 후 승인/반려
- 인터페이스 호환성을 사전에 검증

---

## 키보드 단축키

| 단축키 | 기능 |
|--------|------|
| `Shift+Up/Down` | 팀원 선택 |
| `Shift+Tab` | Delegate 모드 토글 |
| `Ctrl+T` | 태스크 리스트 토글 |
| `Enter` | 팀원 세션 보기 |
| `Escape` | 팀원 현재 턴 중단 |

---

## 안티패턴

- 단순 작업에 팀을 구성하지 말 것 (오버헤드 > 이득)
- 같은 파일을 여러 팀원이 편집하지 말 것 (충돌)
- 팀원에게 모호한 지시를 내리지 말 것
- 결과 종합 없이 팀을 해산하지 말 것
